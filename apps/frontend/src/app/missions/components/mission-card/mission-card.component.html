<div class="mission-card">
  <!-- Mission Media -->
  @if (mission.media) {
  <div class="mission-media">
    <img
      [src]="getMediaUrl(mission.media)"
      [alt]="mission.media.alt || mission.name"
      class="media-image"
      (error)="onImageError($event)"
    />
  </div>
  }

  <!-- Mission Content -->
  <div class="mission-content">
    <div class="mission-header">
      <h2 class="mission-name">{{ mission.name }}</h2>
      @if (hasJoined) {
      <div class="playing-label">
        <mat-icon>play_circle</mat-icon>
        <span>Mission Is Playing</span>
      </div>
      } @else if (showPlayButton) {
      <button
        mat-raised-button
        color="primary"
        (click)="onPlayMission($event)"
        class="play-button"
        [disabled]="isLoading"
      >
        <mat-icon>play_arrow</mat-icon>
        {{ isLoading ? 'Starting...' : 'Play Mission' }}
      </button>
      }
    </div>

 @if (showGames) {
    <!-- Games by Ability -->
    <div class="mission-abilities">
      <h3 class="abilities-title">Games by Ability:</h3>

      <div class="abilities-list">
        <div class="ability-item mental">
          <span class="ability-icon">ğŸ§ </span>
          <span class="game-name">{{
            mission.games?.mentalFortitudeComposure?.name || 'Not assigned'
          }}</span>
        </div>

        <div class="ability-item adaptability">
          <span class="ability-icon">ğŸ”„</span>
          <span class="game-name">{{
            mission.games?.adaptabilityDecisionMaking?.name || 'Not assigned'
          }}</span>
        </div>

        <div class="ability-item aim">
          <span class="ability-icon">ğŸ¯</span>
          <span class="game-name">{{
            mission.games?.aimMechanicalSkill?.name || 'Not assigned'
          }}</span>
        </div>

        <div class="ability-item awareness">
          <span class="ability-icon">ğŸ‘ï¸</span>
          <span class="game-name">{{
            mission.games?.gameSenseAwareness?.name || 'Not assigned'
          }}</span>
        </div>

        <div class="ability-item communication">
          <span class="ability-icon">ğŸ’¬</span>
          <span class="game-name">{{
            mission.games?.teamworkCommunication?.name || 'Not assigned'
          }}</span>
        </div>

        <div class="ability-item strategy">
          <span class="ability-icon">ğŸ§©</span>
          <span class="game-name">{{
            mission.games?.strategy?.name || 'Not assigned'
          }}</span>
        </div>
      </div>
    </div>
    }
  </div>
</div>
