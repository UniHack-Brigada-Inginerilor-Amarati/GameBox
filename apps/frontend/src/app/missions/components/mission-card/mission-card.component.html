<div class="mission-card" [routerLink]="['/missions', mission.slug]">
  <!-- Mission Media -->
  @if (mission.media) {
  <div class="mission-media">
    <img
      [src]="getMediaUrl(mission.media)"
      [alt]="mission.media.alt || mission.name"
      class="media-image"
      (error)="onImageError($event)"
    />
  </div>
  }

  <!-- Mission Content -->
  <div class="mission-content">
    <div class="mission-header">
      <h2 class="mission-name">{{ mission.name }}</h2>
      @if (showPlayButton) {
      <button
        mat-raised-button
        color="primary"
        (click)="onPlayMission($event)"
        class="play-button"
      >
        <mat-icon>play_arrow</mat-icon>
        Play Mission
      </button>
      }
    </div>

 @if (showGames) {
    <!-- Games by Ability -->
    <div class="mission-abilities">
      <h3 class="abilities-title">Games by Ability:</h3>

      <div class="abilities-list">
        @for (item of getExistingGames(); track item.game.slug || item.game.id) {
        <div class="ability-item {{ item.abilityClass }}">
          <span class="ability-icon">{{ item.abilityIcon }}</span>
          <span class="game-name">{{ item.game.name }}</span>
        </div>
        }
      </div>
    </div>
    }
  </div>
</div>
